(this.webpackJsonpwww=this.webpackJsonpwww||[]).push([[0],{203:function(e,t,r){},277:function(e,t,r){"use strict";r.r(t);var n=r(50),a=r.n(n),i=r(48),c=r(11),o=r.n(c),s=r(23),u=r(26),l=r(27),d=r(30),f=r.n(d),h=r(2),v=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function c(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,o)}s((n=n.apply(e,t||[])).next())}))},p=function(){function e(){Object(u.a)(this,e),this._value="updated",this.forbiddenStates=new Set,Object(h.o)(this,{_value:h.p,value:h.g})}return Object(l.a)(e,[{key:"value",get:function(){return this._value},set:function(e){this.forbiddenStates.has(e)||(this._value=e)}}]),e}(),b=function(){function e(t,r,n,a){var c=this;Object(u.a)(this,e),this.state=new p,this.records=new Map,this.refetch=!0,this.indices=[],this.fetch=Object(h.j)(o.a.mark((function e(t){var r,n,a,i,c=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.state.value="updating",e.next=4,this.query(t);case 4:r=e.sent,n=Object(s.a)(r.records);try{for(n.s();!(a=n.n()).done;)i=a.value,this.records.set(i.id,i),this.index(i)}catch(o){n.e(o)}finally{n.f()}return this.state.value="updated",r.records=r.records.map((function(e){return c.records.get(e.id)})),e.abrupt("return",r);case 12:throw e.prev=12,e.t0=e.catch(0),this.state.value="error",e.t0;case 16:case"end":return e.stop()}}),e,this,[[0,12]])}))),this.queryByName=function(e){return v(c,void 0,void 0,o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("".concat(this.remoteURL),{params:{q:e}});case 3:r=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:return t.abrupt("return",{records:r.data.map(this.deserialize.bind(this)),total:r.data.total});case 10:case"end":return t.stop()}}),t,this,[[0,6]])})))},this.remoteURL=t,this.field2name=r||{},this.nameAndField=Object.entries(this.field2name).map((function(e){var t=Object(i.a)(e,2),r=t[0];return[t[1],r]})),this.name2field=Object.fromEntries(this.nameAndField),void 0!==n&&(this.refetch=n),this.indices=a||[],this.batch=new j(this,50),Object(h.o)(this,{state:h.p,records:h.p,indices:h.p,fetch:h.f,fetchOne:h.f,fetchById:h.f,fetchByIds:h.f,set:h.f,list:h.g})}return Object(l.a)(e,[{key:"remoteSize",value:function(){return v(this,void 0,void 0,o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.query({limit:1});case 2:return e.abrupt("return",e.sent.total);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"fetchOne",value:function(e){return v(this,void 0,void 0,o.a.mark((function t(){var r,n,a=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.state.value="updating",e.limit=1,t.next=5,this.query(e);case 5:if(0!==(r=t.sent).records.length){t.next=9;break}return Object(h.r)((function(){a.state.value="updated"})),t.abrupt("return",void 0);case 9:return n=r.records[0],t.abrupt("return",Object(h.r)((function(){return a.records.set(n.id,n),a.index(n),a.state.value="updated",a.records.get(n.id)})));case 13:if(t.prev=13,t.t0=t.catch(0),!t.t0.response||404!==t.t0.response.status){t.next=18;break}return Object(h.r)((function(){a.state.value="updated"})),t.abrupt("return",void 0);case 18:throw Object(h.r)((function(){a.state.value="error"})),t.t0;case 20:case"end":return t.stop()}}),t,this,[[0,13]])})))}},{key:"fetchById",value:function(e){return v(this,void 0,void 0,o.a.mark((function t(){var r,n,a=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.refetch||!this.has(e)){t.next=5;break}if(null!==(r=this.records.get(e))){t.next=4;break}return t.abrupt("return",Promise.resolve(void 0));case 4:return t.abrupt("return",Promise.resolve(r));case 5:return t.prev=5,this.state.value="updating",t.next=9,f.a.get("".concat(this.remoteURL,"/").concat(e));case 9:return n=t.sent,t.abrupt("return",Object(h.r)((function(){var e=a.deserialize(n.data);return a.records.set(e.id,e),a.index(e),a.state.value="updated",a.records.get(e.id)})));case 13:if(t.prev=13,t.t0=t.catch(5),!t.t0.response||404!==t.t0.response.status){t.next=18;break}return Object(h.r)((function(){a.records.set(e,null),a.state.value="updated"})),t.abrupt("return",void 0);case 18:throw Object(h.r)((function(){a.state.value="error"})),t.t0;case 20:case"end":return t.stop()}}),t,this,[[5,13]])})))}},{key:"fetchByIds",value:function(e){return v(this,void 0,void 0,o.a.mark((function t(){var r,n,a,i,c,u,l,d=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e,this.refetch){t.next=8;break}if(r=r.filter((function(e){return!d.has(e)})),0!==r.length){t.next=8;break}n={},a=Object(s.a)(e);try{for(a.s();!(i=a.n()).done;)c=i.value,null!==(u=this.records.get(c))&&void 0!==u&&(n[c]=u)}catch(o){a.e(o)}finally{a.f()}return t.abrupt("return",Promise.resolve(n));case 8:return t.prev=8,this.state.value="updating",t.next=12,f.a.post("".concat(this.remoteURL,"/find_by_ids"),{ids:r});case 12:return l=t.sent,t.abrupt("return",Object(h.r)((function(){for(var t=0,r=Object.values(l.data.items);t<r.length;t++){var n=r[t],a=d.deserialize(n);d.records.set(a.id,a),d.index(a)}var i,c={},u=Object(s.a)(e);try{for(u.s();!(i=u.n()).done;){var f=i.value,h=d.records.get(f);void 0===h?d.records.set(f,null):null!==h&&(c[f]=h)}}catch(o){u.e(o)}finally{u.f()}return d.state.value="updated",c})));case 16:throw t.prev=16,t.t0=t.catch(8),Object(h.r)((function(){d.state.value="error"})),t.t0;case 20:case"end":return t.stop()}}),t,this,[[8,16]])})))}},{key:"query",value:function(e){return v(this,void 0,void 0,o.a.mark((function t(){var r,n,a,c,s,u,l,d,h=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r={limit:e.limit,offset:e.offset,unique:e.unique},void 0!==e.fields&&(r.fields=e.fields.map((function(e){return h.field2name[e]||e})).join(",")),void 0!==e.conditions)for(n=0,a=Object.entries(e.conditions);n<a.length;n++)c=Object(i.a)(a[n],2),s=c[0],u=c[1],s=this.field2name[s]||s,"object"===typeof u?"max"===u.op?r["".concat(s,"[").concat(u.op,"]")]=u.value.join(","):r["".concat(s,"[").concat(u.op,"]")]=Array.isArray(u.value)?u.value.join(","):u.value:r["".concat(s)]=u;return Array.isArray(e.sortedBy)?r.sorted_by=e.sortedBy.map((function(e){var t=h.field2name[e.field]||e.field;return"asc"===e.order?t:"-".concat(t)})).join(","):"object"===typeof e.sortedBy?(l=this.field2name[e.sortedBy.field]||e.sortedBy.field,r.sorted_by="asc"===e.sortedBy.order?l:"-".concat(l)):r.sorted_by=this.field2name[e.sortedBy]||e.sortedBy,void 0!==e.groupBy&&(r.group_by=e.groupBy.map((function(e){return h.field2name[e]||e})).join(",")),t.prev=5,t.next=8,f.a.get("".concat(this.remoteURL),{params:r});case 8:d=t.sent,t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(5),t.t0;case 14:return t.abrupt("return",{records:d.data.items.map(this.deserialize.bind(this)),total:d.data.total});case 15:case"end":return t.stop()}}),t,this,[[5,11]])})))}},{key:"has",value:function(e){return this.records.has(e)}},{key:"get",value:function(e){return this.records.get(e)}},{key:"set",value:function(e){this.records.set(e.id,e),this.index(e)}},{key:"iter",value:o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(s.a)(this.records.values()),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=10;break}if(null===(n=r.value)){e.next=8;break}return e.next=8,n;case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,12,15,18]])}))},{key:"list",get:function(){return Array.from(this.iter())}},{key:"filter",value:function(e){var t,r=[],n=Object(s.a)(this.records.values());try{for(n.s();!(t=n.n()).done;){var a=t.value;null!==a&&e(a)&&r.push(a)}}catch(i){n.e(i)}finally{n.f()}return r}},{key:"groupBy",value:function(e,t){var r,n={},a=Object(s.a)(t);try{var i=function(){var t=r.value,a=e.map((function(e){return t[e]})).join("$");void 0===n[a]?n[a]=[t]:n[a].push(t)};for(a.s();!(r=a.n()).done;)i()}catch(c){a.e(c)}finally{a.f()}return Object.values(n)}},{key:"deserialize",value:function(e){if(this.nameAndField.length>0){var t,r=Object(s.a)(this.nameAndField);try{for(r.s();!(t=r.n()).done;){var n=Object(i.a)(t.value,2),a=n[0];e[n[1]]=e[a],delete e[a]}}catch(c){r.e(c)}finally{r.f()}}return e}},{key:"index",value:function(e){var t,r=Object(s.a)(this.indices);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.add(e)}}catch(a){r.e(a)}finally{r.f()}}},{key:"encodeWhereQuery",value:function(e){return btoa(JSON.stringify(e))}},{key:"decodeWhereQuery",value:function(e){return JSON.parse(atob(e))}}]),e}(),j=function(){function e(t,r){Object(u.a)(this,e),this.store=t,this.window=r,this.requests=new Set,this.executingRequests=new Map}return Object(l.a)(e,[{key:"fetchById",value:function(e){var t=this;return this.requests.add(e),void 0!==this.callback&&clearTimeout(this.callback),new Promise((function(r,n){t.callback=setTimeout((function(){var a=t.exec();a.catch(n),a.then((function(){var n=t.executingRequests.get(e);if(void 0!==n)n.then((function(){var n=t.store.records.get(e);r(null===n?void 0:n)}));else{var a=t.store.records.get(e);r(null===a?void 0:a)}}))}),t.window)}))}},{key:"fetchByIds",value:function(e){var t,r=this,n=Object(s.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.requests.add(a)}}catch(i){n.e(i)}finally{n.f()}return void 0!==this.callback&&clearTimeout(this.callback),new Promise((function(t,n){r.callback=setTimeout((function(){var a=r.exec();a.catch(n),a.then((function(){var n,a={},c=[],o=Object(s.a)(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,l=r.executingRequests.get(u);if(void 0!==l)c.push([l,u]);else{var d=r.store.records.get(u);null!==d&&void 0!==d&&(a[u]=d)}}}catch(i){o.e(i)}finally{o.f()}c.length>0?Promise.all(c.map((function(e){return e[0]}))).then((function(){var e,n=Object(s.a)(c);try{for(n.s();!(e=n.n()).done;){var o=e.value[1],u=r.store.records.get(o);null!==u&&void 0!==u&&(a[o]=u)}}catch(i){n.e(i)}finally{n.f()}t(a)})):t(a)}))}),r.window)}))}},{key:"exec",value:function(){var e=this;this.callback=void 0;var t=Array.from(this.requests).filter((function(t){return!e.executingRequests.has(t)}));this.requests=new Set;var r,n=this.store.fetchByIds(t),a=Object(s.a)(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.executingRequests.set(i,n)}}catch(c){a.e(c)}finally{a.f()}return n.then((function(r){var n,a=Object(s.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.executingRequests.delete(i)}}catch(c){a.e(c)}finally{a.f()}return r}))}}]),e}(),O=r(43),y=r(29),m=r(89),g=r(64),k=r(63),x=function(e,t,r,n){return new(r||(r=Promise))((function(a,i){function c(e){try{s(n.next(e))}catch(t){i(t)}}function o(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(c,o)}s((n=n.apply(e,t||[])).next())}))},w=function(e){Object(g.a)(r,e);var t=Object(k.a)(r);function r(e,n,a,i){var c;return Object(u.a)(this,r),(c=t.call(this,e,n,a,i)).createDrafts=new Map,c.updateDrafts=new Map,c.createAJAXParams={URL:void 0,config:{}},c.onDeleteListeners=[],Object(h.o)(Object(m.a)(c),{createDrafts:h.p,updateDrafts:h.p,create:h.f,update:h.f,delete:h.f,truncate:h.f,setCreateDraft:h.f,deleteCreateDraft:h.f,setUpdateDraft:h.f,deleteUpdateDraft:h.f}),c}return Object(l.a)(r,[{key:"addOnDeleteListener",value:function(e){this.onDeleteListeners.push(e)}},{key:"create",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return x(this,void 0,void 0,o.a.mark((function r(){var n,a=this;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.state.value="updating",r.next=4,f.a.post(this.createAJAXParams.URL||this.remoteURL,this.serializeCreateDraft(e),this.createAJAXParams.config);case 4:return n=r.sent,r.abrupt("return",Object(h.r)((function(){var r=a.deserialize(n.data);return a.records.set(r.id,r),a.index(r),t&&a.createDrafts.delete(e.draftID),a.state.value="updated",a.records.get(r.id)})));case 8:throw r.prev=8,r.t0=r.catch(0),Object(h.r)((function(){a.state.value="error"})),r.t0;case 12:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"update",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return x(this,void 0,void 0,o.a.mark((function r(){var n,a=this;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,this.state.value="updating",r.next=4,f.a.put("".concat(this.remoteURL,"/").concat(e.id),this.serializeUpdateDraft(e));case 4:return n=r.sent,r.abrupt("return",Object(h.r)((function(){var r=e.toModel()||a.deserialize(n.data);e.markSaved();var i=a.records.get(e.id);return void 0!==i&&null!==i&&a.deindex(i),a.records.set(r.id,r),a.index(r),t&&a.updateDrafts.has(e.id)&&a.updateDrafts.delete(e.id),a.state.value="updated",a.records.get(r.id)})));case 8:throw r.prev=8,r.t0=r.catch(0),Object(h.r)((function(){a.state.value="error"})),r.t0;case 12:case"end":return r.stop()}}),r,this,[[0,8]])})))}},{key:"delete",value:function(e){return x(this,void 0,void 0,o.a.mark((function t(){var r,n,a,i=this;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(r=this.records.get(e))){t.next=3;break}return t.abrupt("return");case 3:if(t.prev=3,this.state.value="updating",this.records.delete(e),null===r){t.next=12;break}this.deindex(r),n=Object(s.a)(this.onDeleteListeners);try{for(n.s();!(a=n.n()).done;)(0,a.value)(r)}catch(c){n.e(c)}finally{n.f()}return t.next=12,f.a.delete("".concat(this.remoteURL,"/").concat(e));case 12:Object(h.r)((function(){i.state.value="updated"})),t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(3),Object(h.r)((function(){i.state.value="error"})),t.t0;case 19:case"end":return t.stop()}}),t,this,[[3,15]])})))}},{key:"truncate",value:function(){return x(this,void 0,void 0,o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.state.value="updating",e.next=4,f.a.delete("".concat(this.remoteURL));case 4:Object(h.r)((function(){var e,r=Object(s.a)(t.records.values());try{for(r.s();!(e=r.n()).done;){var n=e.value;if(null!==n){t.deindex(n);var a,i=Object(s.a)(t.onDeleteListeners);try{for(i.s();!(a=i.n()).done;){(0,a.value)(n)}}catch(c){i.e(c)}finally{i.f()}}}}catch(c){r.e(c)}finally{r.f()}t.records.clear(),t.state.value="updated"})),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),Object(h.r)((function(){t.state.value="error"})),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getCreateDraft",value:function(e){return this.createDrafts.get(e)}},{key:"setCreateDraft",value:function(e){this.createDrafts.set(e.draftID,e)}},{key:"deleteCreateDraft",value:function(e){this.createDrafts.delete(e)}},{key:"getUpdateDraft",value:function(e){return this.updateDrafts.get(e)}},{key:"setUpdateDraft",value:function(e){this.updateDrafts.set(e.id,e)}},{key:"deleteUpdateDraft",value:function(e){this.updateDrafts.delete(e)}},{key:"deindex",value:function(e){var t,r=Object(s.a)(this.indices);try{for(r.s();!(t=r.n()).done;){t.value.remove(e)}}catch(n){r.e(n)}finally{r.f()}}},{key:"serializeUpdateDraft",value:function(e){return this.serializeRecord(e)}},{key:"serializeCreateDraft",value:function(e){return this.serializeRecord(e)}},{key:"serializeRecord",value:function(e){for(var t={},r=0,n=Object.entries(e);r<n.length;r++){var a=Object(i.a)(n[r],2),c=a[0],o=a[1];this.field2name.hasOwnProperty(c)?t[this.field2name[c]]=o:t[c]=o}return t}}]),r}(b),S=function(e){Object(g.a)(r,e);var t=Object(k.a)(r);function r(e,n,a,i){var c;return Object(u.a)(this,r),c=t.call(this,e,n,a,i),Object(h.o)(Object(m.a)(c),{create:h.q,update:h.q}),c}return Object(l.a)(r,[{key:"create",value:function(e){var t=this,n=Object.create(null,{create:{get:function(){return Object(O.a)(Object(y.a)(r.prototype),"create",t)}}});return x(this,void 0,void 0,o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.create.call(this,Object.assign({draftID:""},e),!0));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"update",value:function(e){var t=this,n=Object.create(null,{update:{get:function(){return Object(O.a)(Object(y.a)(r.prototype),"update",t)}}});return x(this,void 0,void 0,o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n.update.call(this,Object.assign({markSaved:function(){},toModel:function(){}},e),!0));case 1:case"end":return t.stop()}}),t,this)})))}}]),r}(w),D=(r(44),r(14)),A=r(287),R=(Object(A.a)({container:{paddingTop:12,paddingBottom:4,textAlign:"center"},spin:{animation:"loadingCircle 1s infinite linear","-webkit-animation":"loadingCircle 1s infinite linear",display:"inline-block",fontSize:24,color:"#1890ff",lineHeight:0,verticalAlign:"-0.125em",width:"1em",height:"1em","-webkit-font-smoothing":"antialiased",textTransform:"none"},text:{lineHeight:1.5715,paddingTop:5,textShadow:"0 1px 2px #fff",color:"#1890ff"}}),r(84)),_="native"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PLATFORM?"native":"web",L=("native"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_PLATFORM&&Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_SERVER,r(56)),P=r(0),C=r.n(P),T="native"===_?Object(L.c)():Object(L.a)(),U=function(){function e(t){var r=t.urlSchema,n=void 0===r?{}:r,a=t.querySchema,i=void 0===a?{}:a,c=t.component,o=t.pathDef,s=t.exact,l=void 0!==s&&s,d=t.strict,f=void 0!==d&&d;Object(u.a)(this,e),this.urlSchema=n,this.querySchema=i,this.pathDef=o,this.exact=l,this.strict=f,this.routeDef={path:o,exact:l,strict:f,component:c},this.component=c}return Object(l.a)(e,[{key:"getURL",value:function(e,t){var r=this.pathDef;if(null!==e)for(var n in e)r=r.replace(":".concat(n),e[n]);var a=new URLSearchParams(t).toString();return a.length>0&&(r="".concat(r,"?").concat(a)),r}},{key:"location",value:function(e,t){var r=this.pathDef;for(var n in e)r=r.replace(":".concat(n),e[n]);var a=new URLSearchParams(t).toString();return{pathname:r,search:a=a.length>0?"?".concat(a):a,hash:"",state:void 0}}},{key:"path",value:function(e,t){return new E(this,e,t)}},{key:"useURLParams",value:function(){var e=this,t=Object(R.e)();return Object(P.useMemo)((function(){return e.getURLArgs(t)}),[t.pathname])}},{key:"useQueryParams",value:function(){var e=this,t=Object(R.e)();return Object(P.useMemo)((function(){return e.getQueryArgs(t)}),[t.search])}},{key:"useParams",value:function(){return{url:this.useURLParams(),query:this.useQueryParams()}}},{key:"getURLArgs",value:function(e){var t=Object(R.d)(e.pathname,this.routeDef);return null===t?null:this.parse(t.params,this.urlSchema)}},{key:"getQueryArgs",value:function(e){var t=new URLSearchParams(e.search),r=this.parse(Object.fromEntries(t.entries()),this.querySchema);return null!==r&&Object.values(r).every((function(e){return void 0===e}))?null:r}},{key:"parse",value:function(e,t){for(var r={},n=0,a=Object.entries(t);n<a.length;n++){var c=Object(i.a)(a[n],2),o=c[0],s=c[1],u=e[o];switch(s){case"number":if(void 0===u)return null;if(r[o]=parseFloat(u),!Number.isFinite(r[o]))return null;break;case"boolean":if(void 0===u||"true"!==u||"false"!==u)return null;r[o]="true"===u;break;case"string":if(void 0===u)return null;r[o]=u;break;case"optionalnumber":if(void 0===u)continue;if(r[o]=parseFloat(u),!Number.isFinite(r[o]))return null;break;case"optionalboolean":if(void 0===u)continue;if("true"!==u||"false"!==u)return null;r[o]="true"===u;break;case"optionalstring":if(void 0===u)continue;r[o]=u}}return r}}]),e}(),B=function(e){Object(g.a)(r,e);var t=Object(k.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"getURL",value:function(){return Object(O.a)(Object(y.a)(r.prototype),"getURL",this).call(this,{},{})}},{key:"location",value:function(){return Object(O.a)(Object(y.a)(r.prototype),"location",this).call(this,{},{})}},{key:"path",value:function(){return Object(O.a)(Object(y.a)(r.prototype),"path",this).call(this,{},{})}}]),r}(U),E=function(){function e(t,r,n){var a=this;Object(u.a)(this,e),this.mouseClickNavigationHandler=function(e,t){void 0!==e&&e.preventDefault(),t||void 0!==e&&(e.ctrlKey||e.metaKey)?(window.open(a.pathDef.getURL(a.urlArgs,a.queryArgs),"_blank"),window.focus()):T.push(a.pathDef.location(a.urlArgs,a.queryArgs))},this.pathDef=t,this.urlArgs=r,this.queryArgs=n}return Object(l.a)(e,[{key:"open",value:function(){T.push(this.pathDef.location(this.urlArgs,this.queryArgs))}}]),e}(),q={internalHTMLLinkClickFnId:"window._routeAPIs.internalHTMLLinkClick",history:T,internalHTMLLinkClick:function(e){e.preventDefault();var t=e.target.getAttribute("href");e.ctrlKey||e.metaKey?(window.open(t,"_blank"),window.focus()):T.push(t)},goBack:function(){return T.goBack()},goForward:function(){return T.goForward()},openInternalLink:function(e){T.push(e)}};window._routeAPIs=q;function N(e,t){for(var r=0,n=Object.entries(t);r<n.length;r++){var a=Object(i.a)(n[r],2),c=a[0],o=a[1];if(null!==Object(R.d)(e.pathname,o.routeDef))return c}}var F=Object(A.a)({container:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, sans-serif, apple color emoji, segoe ui emoji, Segoe UI Symbol, noto color emoji",fontSize:14,textAlign:"center"},title:{lineHeight:1.8,fontSize:24},subTitle:{lineHeight:1.6,color:"#00000073"},navigation:{marginTop:24,"& button:not(:first-child)":{marginLeft:8}},btn:{color:"#fff",borderColor:"#1890ff",background:"#1890ff",textShadow:"0 -1px 0 rgb(0 0 0 / 12%)",boxShadow:"0 2px #0000000b",lineHeight:1.5715,display:"inline-block",fontWeight:400,border:"1px solid transparent",transition:"all .3s cubic-bezier(.645,.045,.355,1)",userSelect:"none",touchAction:"manipulation",height:32,padding:"4px 15px",borderRadius:2,cursor:"pointer"}}),I=new B({component:function(){return null},pathDef:"/"}).path().mouseClickNavigationHandler,H=function(){var e=F();return Object(D.jsxs)("div",Object.assign({className:e.container},{children:[Object(D.jsx)("div",Object.assign({className:e.title},{children:"404"}),void 0),Object(D.jsx)("div",Object.assign({className:e.subTitle},{children:"Sorry, the page you visited does not exist."}),void 0),Object(D.jsxs)("div",Object.assign({className:e.navigation},{children:[Object(D.jsx)("button",Object.assign({className:e.btn,onClick:q.goBack},{children:"Back"}),void 0),Object(D.jsx)("button",Object.assign({className:e.btn,onClick:I},{children:"Home"}),void 0)]}),void 0)]}),void 0)};function z(e){var t=e.routes;return Object(D.jsx)(R.b,Object.assign({history:T},{children:Object(D.jsx)("div",Object.assign({className:"app-body"},{children:Object(D.jsxs)(R.c,{children:[Object.entries(t).map((function(e){var t=Object(i.a)(e,2),r=t[0],n=t[1];return Object(D.jsx)(R.a,Object.assign({},n.routeDef),r)})),Object(D.jsx)(R.a,{component:H},void 0)]},void 0)}),void 0)}),void 0)}r(203);var K={todolistStore:new(function(e){Object(g.a)(r,e);var t=Object(k.a)(r);function r(){return Object(u.a)(this,r),t.call(this,"/api/todo_list")}return r}(S))},M=C.a.createContext(K);var W=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,295)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),i(e),c(e)}))},J=r(294),Q=r(288),V=r(293),X=r(289),$=r(291),G=r(170),Y=Object(G.a)((function(){var e=C.a.useContext(M).todolistStore;Object(P.useEffect)((function(){e.fetch({limit:1e3,offset:0})}),[e]);var t=e.list.map((function(t){return Object(D.jsxs)(Q.b.Item,{children:[Object(D.jsx)(V.a,{checked:t.checked,onChange:function(r){t.checked=r.target.checked,e.update(t)},children:Object(D.jsx)(X.a.Paragraph,{style:{marginBottom:0},editable:{onChange:function(r){t.todo=r,e.update(t)}},children:t.todo})}),Object(D.jsx)($.a,{type:"primary",danger:!0,onClick:function(){e.delete(t.id)},children:"Delete"})]},t.id)}));return Object(D.jsxs)(J.b,{direction:"vertical",style:{width:"100%"},children:[Object(D.jsx)(Q.b,{bordered:!0,children:t}),Object(D.jsx)($.a,{type:"primary",onClick:function(){return e.create({checked:!1,todo:""})},children:"Add"})]})})),Z=r(132),ee=r(173),te=r(290),re=["children"],ne=Object(A.a)({centerNavBar:{justifyContent:"center",boxShadow:"0 2px 8px #f0f1f2"},leftNavBar:{"& .logo::after":{borderBottom:"none !important",transition:"none !important"},"& .logo:hover::after":{borderBottom:"none !important",transition:"none !important"},"& .logo img":{height:24,borderRadius:4,marginTop:-2},paddingLeft:24,paddingRight:24,boxShadow:"0 2px 8px #f0f1f2"}}),ae=function(e){var t=e.menus,r=e.routes,n=e.className,a=e.style,i=e.isFirstItemLogo,c=ne(),o=Object(R.e)(),s=Object.keys(t).map((function(e,r){return ie(e,!0===i&&0===r?"logo":"",t[e])})),u=N(o,r);return Object(D.jsx)(te.a,{mode:"horizontal",className:c.centerNavBar+(void 0!==n?" "+n:""),style:a,onClick:function(e){r[e.key].path({},{}).open()},selectedKeys:void 0!==u?[u]:void 0,children:s})};function ie(e,t,r){var n,a;if("string"===typeof r)n=r;else if(C.a.isValidElement(r))n=r;else{var i=r;n=i.children,a=Object(ee.a)(i,re)}return Object(D.jsx)(te.a.Item,Object(Z.a)(Object(Z.a)({className:t},a),{},{children:n}),e)}var ce={home:new B({component:Y,pathDef:"/",exact:!0})};!function(e,t,r){if(void 0===r&&(r=new Set),Array.isArray(r)?r=new Set(r):r instanceof Set||(r=new Set(Object.keys(r))),"function"===typeof t)for(var n=0,a=Object.entries(e);n<a.length;n++){var c=Object(i.a)(a[n],2),o=c[0],s=c[1];r.has(o)||(s.routeDef.component=t(s.component,e))}else for(var u=0,l=Object.entries(e);u<l.length;u++){var d=Object(i.a)(l[u],2),f=d[0],h=d[1];r.has(f)||void 0===t[f]||(h.routeDef.component=t[f](h.component,e))}}(ce,(function(e){return function(t){var r=C.a.createElement(e,t);return Object(D.jsxs)(J.b,{direction:"vertical",style:{width:"100%"},children:[Object(D.jsx)(ae,{menus:{home:"Home"},routes:ce}),r]})}})),a.a.render(Object(D.jsx)(M.Provider,{value:K,children:Object(D.jsx)(z,{routes:ce})}),document.getElementById("root")),W()}},[[277,1,2]]]);
//# sourceMappingURL=main.4871f397.chunk.js.map